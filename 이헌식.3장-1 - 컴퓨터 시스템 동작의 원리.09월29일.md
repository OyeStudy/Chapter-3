# 6.DMA (Direct Memory Access)

CPU의 효율성을 위해 DMA(Direct Memory Access) 생겨난 컨트롤러다.
인터럽트 당하는 것을 막아주는 역할을 하고 로컬버퍼에서 메모리로 읽어오는 작 작업을 CPU가 하는 것이 아니라 DMA가 대행하여 CPU는 원래 하던 작업을 멈추지 않아서 CPU효율성이 높아지게 된다.
DMA는 바이트 단위가 아니라 블록이라는 단위로 메모리로 읽어온 후에 CPU에게 인터럽트를 발생시켜
작업의 완료를 알려준다! 위와 같은 방식으로 CPU의 인터럽트 발생 빈도를 낮춰 CPU 를 효율적으로 관리하고
입출력 연산을 빠르게 수행할수 있게한다. 

# 7.저장장치 구조.
- 주기억장치 
RAM (휘발성- 전원이 나가면 저장되어있던 데이터 모두 날아감)

- 보조기억장치 
HDD,플래시 메모리,CD (비휘발성)

보조 기억장치의 용도.
램에다가 파일 시스템을하면 전원이 나가면 모든 데이터가 날아가기 때문에 파일 시스템용으로 사용 된다. 
메모리가 부족한경우 프로그램 수행에 당장 필요한 부분만 메모리에 올려놓고 나머지 부분은 하드 스왑 영역에
내려 놓게 되는데 그것을 스왑아웃이라고 한다.


![](https://velog.velcdn.com/images/hunsik0302/post/c1b227ee-dcd9-4c22-9d74-91d5f24c49f1/image.png)




HDD 구조

여러 개의 마그네틱 원판이 있고, 암이 이동하며 저장된 데이터를 읽고 쓰는 방식으로 동작.
디스크 원판은 트랙으로 나뉘고 각 트랙은 섹터로 나뉜다. 



# 8. 저장장치의 계층 구조

![](https://velog.velcdn.com/images/hunsik0302/post/2425a7b1-64e1-4ec5-bf28-12eba57aa662/image.png)


저장장치의 계층 구조는 위 사진과 같이 되어있으며 빠를 수록 비싸고 값이 저렴할 수록 느리기 때문에
당장 필요한 정보는 빠른 저장장치(레지스터,캐시,메모리)에 두고 그렇지 않은것은 느린 저장장치(hdd)에 둔다. 보통 빠른 저장장치(레지스터,캐시,메모리)는 휘발성이고,느린 저장 장치는 비 휘발성이다.

- 캐싱기법
스피드한 저장장치를 이용해 슬로우한 저장장치의 성능을 향상시키는 기법을 말한다.
스퓌드한 저장장치가 많이 사용하는것을 슬로우한 저장장치에 저장을 해둬서 전체적인 성능 향상된다.


# 9. 하드웨어의 보안

- 커널 모드
  CPU의 제어권을 가지고 운영체제의 모든 종류의 명령을 실행 할 수 있다.
- 유저 모드
   일반적인 연산만 프로그램 이 수행하도록 통제한다.


### 모드비트(mode bit)
컴퓨터 시스템은 CPU 내부에 모드비트를 두어 모드비트가 0 이면 커널모드로 모드비트가 1이면
유저모드로 사용할수 있게된다.


## 특권명령
시스템의 보안과 관련된 명령(모드비트가 0일 때만 수행)
입출력은 특권명령 이고,운영체제가 입출력이 올바른 요청인지 확인한 후 실행하기 떄문에 파일에 대한 보안을 유지가능하다.

# 10. 메모리 보안

- 기준 레지스터
  수행하고있는 프로그램에 대한 합법적으로 접근할 수 있는 메모리상의 가장 주소를 보관한다.
- 한계 레지스터
  프로그램이 기준 레지스터 값부터 접근할 수 있는 메모리의 범위를 보관한다.

# 11. CPU 보호

운영체제는 CPU를 보호하기 위해서 타이머 라는 하드웨어를 사용한다.
- 타이머란? 일정 시간이 지나면 인터럽트를 발생시켜 운영체제가 CPU의 제어권을 획득할 수 있도록 하는 역할
>클럭 틱(clock tick) 
쿨럭 틱이란 틱을 의미하고 전기 신호를 보내 명령을 전달하는 시간 단위 이다.
ex)CPU에서 아주 짧은 1초 단위 라고 생각하면 된다.(절대적 1초의 시간이 아님)
메인보드의 클록(clock)이 틱(tick)을 보낼 때마다,데이터를 보내거나 데이터를 받는다.
(https://miny-genie.tistory.com/m/21) 정리 잘되어있음.

타이머는 일정한 사간 단위로 세팅될 수 있고 매 클럭 틱 때마다 1씩 감소하는데 타이머가 0이 되는순간
인터럽트가 발생하게 된다. 이 때 타이머 값을 세팅하는 명령을 로드 타이머 라고 하고 이는 특권명령에 속한다.타이머는 시분할 시스템에서 현재 시간을 계산하기 위하여 사용 되기도 한다.
CPU시간을 나누어 사용하는 시스템을 시분할 시스템이라 한다.

# 12.시스템 콜을 이용한 입출력 수행
- 시스템 콜: 소프트웨어적인 인터럽트.

입출력 명령은 운영체제 코드에 구현되어 있고, 사용자 프로그램은 직접 입출력을 수행하는 대신
운영체제한테 시스템 콜이라는 서비스 대행 요청을 하여 입출력을 수행한다.
